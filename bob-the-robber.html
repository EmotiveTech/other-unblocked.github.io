<!DOCTYPE html>
<html lang="en">
<head>
    <title>Bob-the-Robber 1</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <style>
        /* 1. Force the page to have zero margins and hide scrollbars */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #000; /* Black background */
        }

        /* 2. Target the Ruffle element specifically */
        ruffle-player {
            width: 100vw !important;
            height: 100vh !important;
            display: block;
        }

        /* 3. The container for the game logic */
        #game-wrapper {
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .swf-container {
            width: 100%;
            height: 100%;
        }
    </style>
    
    <script src="https://unpkg.com/dangerous-html@0.1.12/dist/default/lib.umd.js"></script>
</head>
<body>

    <div id="game-wrapper">
        <dangerous-html
            class="swf-container"
            html="<script src='https://garage-56.github.io/test42/ruffle/ruffle.js'></script>
            <embed src='https://garage-56.github.io/Garage-56/bobtherobber.swf' 
                   width='100%' 
                   height='100%' 
                   style='width: 100vw; height: 100vh;'
                   type='application/x-shockwave-flash'>
            </embed>"
        ></dangerous-html>
    </div>

    <script>
        (function() {
            const menuHtml = `
            <div id="cloaker-menu" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #111; border: 2px solid #b30000; padding: 20px; z-index: 99999; font-family: sans-serif; color: #eee; text-align: center; box-shadow: 0 0 50px #000; width: 300px;">
                <h3 style="color: #b30000; margin-bottom: 15px;">TAB CLOAKER</h3>
                <select id="cloak-preset" style="width: 100%; margin-bottom: 10px; padding: 5px; background: #222; color: #fff; border: 1px solid #444;">
                    <option value="">-- Select Disguise --</option>
                    <option value="Google|https://www.google.com/favicon.ico">Google</option>
                    <option value="Google Drive|https://ssl.gstatic.com/images/branding/product/1x/drive_2020q4_32dp.png">Google Drive</option>
                    <option value="Classes|https://ssl.gstatic.com/classroom/favicon.png">Google Classroom</option>
                </select>
                <button id="btn-cloak" style="background: #b30000; color: white; border: none; padding: 10px 20px; cursor: pointer; margin-top: 10px;">APPLY</button>
                <p style="font-size: 10px; color: #666; margin-top: 10px;">Alt + R to Open / ESC to Close</p>
            </div>`;

            const div = document.createElement('div');
            div.innerHTML = menuHtml;
            document.body.appendChild(div);

            const menu = document.getElementById('cloaker-menu');
            const select = document.getElementById('cloak-preset');
            const btn = document.getElementById('btn-cloak');

            btn.addEventListener('click', () => {
                const [title, icon] = select.value.split('|');
                if (title) {
                    document.title = title;
                    let link = document.querySelector("link[rel~='icon']");
                    if (!link) { link = document.createElement('link'); link.rel = 'icon'; document.head.appendChild(link); }
                    link.href = icon;
                }
                menu.style.display = 'none';
            });

            document.addEventListener('keydown', (e) => {
                if (e.altKey && e.key.toLowerCase() === 'r') menu.style.display = 'block';
                if (e.key === 'Escape') menu.style.display = 'none';
            });
        })();
    </script>

</body>
</html>
